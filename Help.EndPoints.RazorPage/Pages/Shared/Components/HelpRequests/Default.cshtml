@using Help.Domain.Core.HelpServiceAgg.DTOs.HelpRequest
@model List<HelpRequestDTO>
@inject Base_Framework.Domain.Core.Contracts.IAuthHelper AuthHelper;


<!--====================  blog post slider area ====================-->
<div class="blog-post-slider-area">
    <div class="container">

        <div class="row">
            <div class="col-lg-12">
                <!--=======  blog post slider border wrapper  =======-->
                <div class="blog-post-slider-border-wrapper section-space--inner">
                    <div class="row">
                        <div class="col-lg-12">
                            <!--=======  section title  =======-->
                            <div class="section-title-wrapper text-center section-space--half">

                                @if (AuthHelper.IsAuthenticated())
                                {
                                    <h2 class="section-title">برای شما</h2>
                                }

                                <h2 class="section-title">درخواست ها</h2>
                                <p class="section-subtitle">
                                    اینجا میتونی درخواستای کمک مختلف از آدمای مختلف ببینی
                                </p>
                            </div>
                            <!--=======  End of section title  =======-->
                        </div>
                        <div class="col-lg-12">
                            <!--=======  blog post slider wrapper  =======-->
                            <div class="blog-post-slider-wrapper">
                                <div class="ht-slick-slider" data-slick-setting='{
                                    "slidesToShow": 3,
                                    "slidesToScroll": 1,
                                    "arrows": false,
                                    "autoplay": true,
                                    "autoplaySpeed": 1000,
                                    "speed": 1000,
                                    "infinite": true,
                                    "rtl": true
                                }' data-slick-responsive='[
                                    {"breakpoint":1501, "settings": {"slidesToShow": 3} },
                                    {"breakpoint":1199, "settings": {"slidesToShow": 3} },
                                    {"breakpoint":991, "settings": {"slidesToShow": 2} },
                                    {"breakpoint":767, "settings": {"slidesToShow": 1} },
                                    {"breakpoint":575, "settings": {"slidesToShow": 1} },
                                    {"breakpoint":479, "settings": {"slidesToShow": 1} }
                                ]'>


                                    @foreach (var request in Model)
                                    {

                                        <div class="col">
                                            <!--=======  single slider post  =======-->
                                            <div class="single-slider-post">
                                                <div class="single-slider-post__image">
                                                    <a href="blog-post-left-sidebar.html">
                                                        <img style="width:500px; height:300px;" src="~/Images/HelpRequestPictures/@request.Pictures.First().Name" class="img-fluid" />
                                                    </a>
                                                    <div class="single-slider-post__date-sticker">
                                                        <a asp-page="HelpRequest" asp-route-id="@request.Id">
                                                            <i class="ion-android-arrow-dropleft-circle"></i> جزییات
                                                        </a>



                                                        @if (request.StatusId == 2)
                                                        {
                                                            <span class=" text-secondary">منتظر پیشنهاد مناسب</span>
                                                          
                                                        }
                                                        else if (request.StatusId == 3)
                                                        {
                                                            <span class=" text-warning">    در حال انجام</span>
                                                        }
                                                        else if (request.StatusId == 3)
                                                        {

                                                            <span class=" text-danger">       تمام شده</span>
                                                        }

                                                      
                                                    </div>
                                                </div>
                                                <div class="single-slider-post__content">
                                                    <h3 class="title">
                                                        @request.Title
                                                    </h3>

                                                    <p class="post-meta">by <a href="#">@request.Customer.FullName</a></p>

                                                    
                                                    <p class="short-desc">
                                                      @request.Description
                                                    </p>
                                                   

                                                    <a asp-page="HelpRequest" asp-route-id="@request.Id" class="button small type--B">
                                                        <div class="button__line"></div>
                                                        <div class="button__line"></div>
                                                        <span class="button__text">ثبت پیشنهاد</span>
                                                        <div class="button__drow1"></div>
                                                        <div class="button__drow2"></div>
                                                    </a>
                                                </div>
                                            </div>
                                            <!--=======  End of single slider post  =======-->
                                        </div>
                                    }

                                </div>
                            </div>
                            <!--=======  End of blog post slider wrapper  =======-->
                        </div>
                    </div>
                </div>
                <!--=======  End of blog post slider border wrapper  =======-->
            </div>
        </div>

    </div>
</div>
<!--====================  End of blog post slider area  ====================-->