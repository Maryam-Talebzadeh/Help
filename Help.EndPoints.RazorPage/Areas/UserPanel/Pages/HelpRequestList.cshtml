@page "{id}"
@model Help.EndPoints.RazorPage.Areas.UserPanel.Pages.HelpRequestListModel
@{
}


<div class="container">
    <div class="main-body">
        <partial name="_Breadcrumb" />

        <div class="row gutters-sm">


            <div class="col-md-4 mb-3">
                @await Component.InvokeAsync("SideMenu")
            </div>
            <div class="col-md-8">
                <div class="card-body">

                    @foreach (var request in Model.RequestList)
                    {
                        <div class="col-12 col-lg-4 col-md-4 col-sm-6">
                            <div class="single-grid-product grid-view-product">
                                <div class="single-grid-product__image">

                                    <a asp-page="/HelpRequest" asp-route-id="@request.Id">
                                        <img src="~/Images/HelpRequestPictures/DefaultHelpServicePicture.jpg" class="img-fluid" />
                                    </a>

                                </div>
                                <div class="single-grid-product__content">
                                    <div class="single-grid-product__category-rating">
                                        <span class="category">
                                            <a asp-page="/HelpService" asp-route-id="@request.HelpService.Id">@request.HelpService.Title</a>
                                        </span>

                                    </div>

                                    <h2 class="single-grid-product__title">
                                        <a asp-page="/HelpRequest" asp-route-id="@request.Title">@request.Title</a>
                                    </h2>
                                  @if(!request.IsConfirmed)
                                  {
                                        <h2 class="text-danger single-grid-product__title">
                                            منتظر تایید ادمین
                                        </h2>
                                  }
                                 

                                   <div class="row">
                                    <div class="col-lg-12">
                                        <div class="shop-page-content">
                                            <div class="row shop-product-wrap grid three-column">

                                                @if (request.StatusId == 1)
                                                {
                                                    <div class="row">
                                                        <div class="col-6">
                                                            <a href="../EditHelpRequest/@request.Id" class="register-button mt-0">ویرایش</a>
                                                        </div>
                                                        <hr />
                                                        <div class="col-6">
                                                            <a asp-page-handler="Remove" class="register-button mt-0">حذف</a>
                                                        </div>
                                                    </div>
                                                }

                                            </div>

                                        </div>
                                    </div>
                                        <div class="col-6">
                                            <a href="../RequestDetail/@request.Id" class="register-button mt-0">جزییات</a>
                                        </div>
                                    </div>
                                    </div>
                                </div>
                            </div>
                 
                    }


                </div>
            </div>
        </div>
    </div>

</div>